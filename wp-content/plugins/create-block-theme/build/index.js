(()=>{"use strict";var e,t,n,a,l={7047:(e,t,n)=>{function a(e,t,n){let a;Object.defineProperty(e,t,{get:()=>a||(a=n(),a),enumerable:!0})}n.d(t,{Z:()=>a})},2592:(e,t,n)=>{n.d(t,{x:()=>l});var a=n(6770);class l extends a.j{constructor(e,t,n){const{parser:l,start:r}=super(new a._(e,t,n)),o={enumerable:!1,get:()=>l};Object.defineProperty(this,"p",o);const i={enumerable:!1,get:()=>r};Object.defineProperty(this,"tableStart",i)}}},6770:(e,t,n)=>{n.d(t,{_:()=>l,j:()=>r});const a=new Date("1904-01-01T00:00:00+0000").getTime();class l{constructor(e,t,n){this.name=(n||e.tag||"").trim(),this.length=e.length,this.start=e.offset,this.offset=0,this.data=t,["getInt8","getUint8","getInt16","getUint16","getInt32","getUint32","getBigInt64","getBigUint64"].forEach((e=>{let t=e.replace(/get(Big)?/,"").toLowerCase(),n=parseInt(e.replace(/[^\d]/g,""))/8;Object.defineProperty(this,t,{get:()=>this.getValue(e,n)})}))}get currentPosition(){return this.start+this.offset}set currentPosition(e){this.start=e,this.offset=0}skip(e=0,t=8){this.offset+=e*t/8}getValue(e,t){let n=this.start+this.offset;this.offset+=t;try{return this.data[e](n)}catch(n){throw console.error("parser",e,t,this),console.error("parser",this.start,this.offset),n}}flags(e){if(8===e||16===e||32===e||64===e)return this[`uint${e}`].toString(2).padStart(e,0).split("").map((e=>"1"===e));console.error("Error parsing flags: flag types can only be 1, 2, 4, or 8 bytes long"),console.trace()}get tag(){const e=this.uint32;return t=[e>>24&255,e>>16&255,e>>8&255,255&e],Array.from(t).map((e=>String.fromCharCode(e))).join("");var t}get fixed(){return this.int16+Math.round(1e3*this.uint16/65356)/1e3}get legacyFixed(){let e=this.uint16,t=this.uint16.toString(16).padStart(4,0);return parseFloat(`${e}.${t}`)}get uint24(){return(this.uint8<<16)+(this.uint8<<8)+this.uint8}get uint128(){let e=0;for(let t=0;t<5;t++){let t=this.uint8;if(e=128*e+(127&t),t<128)break}return e}get longdatetime(){return new Date(a+1e3*parseInt(this.int64.toString()))}get fword(){return this.int16}get ufword(){return this.uint16}get Offset16(){return this.uint16}get Offset32(){return this.uint32}get F2DOT14(){const e=p.uint16;return[0,1,-2,-1][e>>14]+(16383&e)/16384}verifyLength(){this.offset!=this.length&&console.error(`unexpected parsed table size (${this.offset}) for "${this.name}" (expected ${this.length})`)}readBytes(e=0,t=0,n=8,a=!1){if(0===(e=e||this.length))return[];t&&(this.currentPosition=t);const l=`${a?"":"u"}int${n}`,r=[];for(;e--;)r.push(this[l]);return r}}class r{constructor(e){const t={enumerable:!1,get:()=>e};Object.defineProperty(this,"parser",t);const n=e.currentPosition,a={enumerable:!1,get:()=>n};Object.defineProperty(this,"start",a)}load(e){Object.keys(e).forEach((t=>{let n=Object.getOwnPropertyDescriptor(e,t);n.get?this[t]=n.get.bind(this):void 0!==n.value&&(this[t]=n.value)})),this.parser.length&&this.parser.verifyLength()}}}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return l[e](n,n.exports,o),n.exports}o.m=l,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"==typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"==typeof n.then)return n}var l=Object.create(null);o.r(l);var r={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&n;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>r[e]=()=>n[e]));return r.default=()=>n,o.d(l,r),l},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,n)=>(o.f[n](e,t),t)),[])),o.u=e=>e+".js",o.miniCssF=e=>{},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},a="create-block-theme:",o.l=(e,t,l,r)=>{if(n[e])n[e].push(t);else{var i,s;if(void 0!==l)for(var c=document.getElementsByTagName("script"),m=0;m<c.length;m++){var h=c[m];if(h.getAttribute("src")==e||h.getAttribute("data-webpack")==a+l){i=h;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.setAttribute("data-webpack",a+l),i.src=e),n[e]=[t];var u=(t,a)=>{i.onerror=i.onload=null,clearTimeout(f);var l=n[e];if(delete n[e],i.parentNode&&i.parentNode.removeChild(i),l&&l.forEach((e=>e(a))),t)return t(a)},f=setTimeout(u.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=u.bind(null,i.onerror),i.onload=u.bind(null,i.onload),s&&document.head.appendChild(i)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var a=n.length-1;a>-1&&!e;)e=n[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={826:0};o.f.j=(t,n)=>{var a=o.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var l=new Promise(((n,l)=>a=e[t]=[n,l]));n.push(a[2]=l);var r=o.p+o.u(t),i=new Error;o.l(r,(n=>{if(o.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var l=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+l+": "+r+")",i.name="ChunkLoadError",i.type=l,i.request=r,a[1](i)}}),"chunk-"+t,t)}};var t=(t,n)=>{var a,l,[r,i,s]=n,c=0;if(r.some((t=>0!==e[t]))){for(a in i)o.o(i,a)&&(o.m[a]=i[a]);s&&s(o)}for(t&&t(n);c<r.length;c++)l=r[c],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0},n=globalThis.webpackChunkcreate_block_theme=globalThis.webpackChunkcreate_block_theme||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{const e=window.React,t=window.wp.element,n=window.wp.i18n,a=window.wp.components,l=(0,n.__)("The quick brown fox jumps over the lazy dog.","create-block-theme"),r=(0,n.__)("Incredible as it may seem, I believe that the Aleph of Garay Street was a false Aleph.","create-block-theme"),i=(0,n.__)("First a glass of pseudo-cognac, he ordered, and then down you dive into the cellar. Let me warn you, you'll have to lie flat on your back. Total darkness, total immobility, and a certain ocular adjustment will also be necessary. From the floor, you must focus your eyes on the nineteenth step. Once I leave you, I'll lower the trapdoor and you'll be quite alone. You needn't fear the rodents very much though I know you will. In a minute or two, you'll see the Aleph, the microcosm of the alchemists and Kabbalists, our true proverbial friend, the multum in parvo!","create-block-theme"),s="sentence",c={heading:{text:l,size:30,lineHeight:1.1,margin:"0.5em 0",component:"h2"},sentence:{text:r,size:20,lineHeight:1.3,margin:"0.5em 0",component:"p"},paragraph:{text:i,size:16,lineHeight:1.5,margin:"0.5em 0",component:"p"}},m=(0,t.createContext)();function h({children:n}){const[a,l]=(0,t.useState)(localStorage.getItem("cbt_default-demo-type")||s),[r,o]=(0,t.useState)(localStorage.getItem("cbt_default-demo-text")||c[a].text),[i,h]=(0,t.useState)(parseInt(localStorage.getItem("cbt_default-demo-font-size"))||c[a].size),[u,f]=(0,t.useState)({}),d=e=>{o(e),localStorage.setItem("cbt_default-demo-text",e)},p=e=>{h(e),localStorage.setItem("cbt_default-demo-font-size",e)},g=e=>{d(c[e||a].text),p(c[e||a].size)},[y,b]=(0,t.useState)(JSON.parse(localStorage.getItem("cbt_families-open"))||[]);return(0,e.createElement)(m.Provider,{value:{demoText:r,handleDemoTextChange:d,resetDefaults:g,demoType:a,handleDemoTypeChange:e=>{l(e),localStorage.setItem("cbt_default-demo-type",e),g(e)},demoFontSize:i,handleDemoFontSizeChange:p,familiesOpen:y,handleToggleFamily:e=>{let t=[];t=y.includes(e)?y.filter((t=>t!==e)):[...y,e],b(t),localStorage.setItem("cbt_families-open",JSON.stringify(t))},axes:u,handleAxesChange:(e,t)=>{f({...u,[e]:{...u[e],currentValue:t}})}}},n)}const u=function({style:n}){const{demoText:a,demoType:l,demoFontSize:r}=(0,t.useContext)(m),o=c[l].component,i={...n,fontSize:`${r}px`,lineHeight:c[l].lineHeight,margin:c[l].margin};return(0,e.createElement)("div",null,(0,e.createElement)(o,{style:i},a))};function f(e){return e.includes("italic")?"italic":"normal"}function d(e){return"regular"===e||"italic"===e?"400":e.replace("italic","")}function p(e){const t={normal:(0,n._x)("Normal","Font style","create-block-theme"),italic:(0,n._x)("Italic","Font style","create-block-theme")};return void 0!==t[e]?t[e]:e}function g(e){return e.replace("http://","https://")}function y(e){const t=["Bytes","KB","MB","GB","TB"];if(0===e)return(0,n.__)("n/a","create-block-theme");const a=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return 0===a?e+" "+t[a]:(e/Math.pow(1024,a)).toFixed(1)+" "+t[a]}function b(e){return`'${e}'`.trim()}const E=function({face:t,deleteFont:l,shouldBeRemoved:r,isFamilyOpen:o}){const i={fontFamily:t.fontFamily,fontStyle:t.fontStyle,fontWeight:t.fontWeight?String(t.fontWeight).split(" ")[0]:"normal",...t.fontVariationSettings?{fontVariationSettings:t.fontVariationSettings}:{}};return r?null:(0,e.createElement)("tr",{className:"font-face"},(0,e.createElement)("td",null,p(t.fontStyle)),(0,e.createElement)("td",null,t.fontWeight),(0,e.createElement)("td",{className:"demo-cell"},(0,e.createElement)(u,{style:i})),l&&(0,e.createElement)("td",null,(0,e.createElement)(a.Button,{variant:"tertiary",onClick:l,tabIndex:o?0:-1},(0,n.__)("Remove","create-block-theme"))))},v=function({fontFamily:l,deleteFont:r}){const{familiesOpen:o,handleToggleFamily:i}=(0,t.useContext)(m),s=o.includes(l.name)||o.includes(l.fontFamily),c=()=>{i(l.name||l.fontFamily)};if(l.shouldBeRemoved)return null;const h=!!l.fontFace&&!!l.fontFace.length;return(0,e.createElement)("table",{className:"wp-list-table widefat table-view-list"},(0,e.createElement)("thead",{onClick:c},(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"font-family-head"},(0,e.createElement)("div",null,(0,e.createElement)("strong",null,l.name||l.fontFamily),h&&(0,e.createElement)("span",{className:"variants-count"}," ",sprintf(
// translators: %s: Variants information.
(0,n.__)("( %s )","create-block-theme"),sprintf(
// translators: %d: Number of variants.
(0,n._n)("%d Variant","%d Variants",l.fontFace.length,"create-block-theme"),l.fontFace.length)))),(0,e.createElement)("div",null,(0,e.createElement)(a.Button,{variant:"tertiary",onClick:e=>{e.stopPropagation(),r(l.name||l.fontFamily)}},(0,n.__)("Remove Font Family","create-block-theme")),(0,e.createElement)(a.Button,{onClick:c},(0,e.createElement)(a.Icon,{icon:s?"arrow-up-alt2":"arrow-down-alt2"})))))),(0,e.createElement)("tbody",{className:"font-family-contents"},(0,e.createElement)("tr",{className:"container"},(0,e.createElement)("td",{className:" slide "+(s?"open":"close")},(0,e.createElement)("table",{className:"wp-list-table widefat striped table-view-list"},(0,e.createElement)("thead",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",null,(0,n.__)("Style","create-block-theme")),(0,e.createElement)("td",null,(0,n.__)("Weight","create-block-theme")),(0,e.createElement)("td",{className:"preview-head"},(0,n.__)("Preview","create-block-theme")),h&&(0,e.createElement)("td",null))),(0,e.createElement)("tbody",null,h&&l.fontFace.map(((t,n)=>t.shouldBeRemoved?null:(0,e.createElement)(E,{face:t,key:`fontface${n}`,deleteFont:()=>r(l.name||l.fontFamily,t.fontWeight,t.fontStyle),isFamilyOpen:s}))),!h&&l.fontFamily&&(0,e.createElement)(E,{face:l,isFamilyOpen:s})))))))},w=window.wp.primitives,_=(0,e.createElement)(w.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(w.Path,{d:"m11.3 17.2-5-5c-.1-.1-.1-.3 0-.4l2.3-2.3-1.1-1-2.3 2.3c-.7.7-.7 1.8 0 2.5l5 5H7.5v1.5h5.3v-5.2h-1.5v2.6zm7.5-6.4-5-5h2.7V4.2h-5.2v5.2h1.5V6.8l5 5c.1.1.1.3 0 .4l-2.3 2.3 1.1 1.1 2.3-2.3c.6-.7.6-1.9-.1-2.5z"})),F=function({axis:t,setAxisCurrentValue:l}){return(0,e.createElement)("div",null,(0,e.createElement)(a.RangeControl,{label:t.tag+" "+(0,n.__)("font axis:","create-block-theme"),name:`font-axis-${t.tag}`,id:`font-axis-${t.tag}`,min:parseInt(t.minValue),max:parseInt(t.maxValue),value:parseInt(t.currentValue),onChange:e=>{l(t.tag,e)},step:1}))},k=function({axes:t,setAxes:n}){const a=(e,a)=>{n({...t,[e]:{...t[e],currentValue:a}})};return(0,e.createElement)(e.Fragment,null,t&&Object.keys(t).length&&(0,e.createElement)(e.Fragment,null,Object.keys(t).map((n=>(0,e.createElement)(F,{axis:t[n],key:`axis-range-${n}`,setAxisCurrentValue:a})))))},S=function({axes:l,setAxes:r,resetAxes:o}){const{demoText:i,handleDemoTextChange:s,demoType:c,handleDemoTypeChange:h,demoFontSize:u,handleDemoFontSizeChange:f,resetDefaults:d}=(0,t.useContext)(m);return(0,e.createElement)("div",{className:"demo-text-input"},(0,e.createElement)("div",{className:"container"},(0,e.createElement)("div",{className:"controls"},(0,e.createElement)("div",{className:"standard-controls"},(0,e.createElement)(a.SelectControl,{label:(0,n.__)("Preview type","create-block-theme"),onChange:h,value:c},(0,e.createElement)("option",{value:"heading"},(0,n.__)("Heading","create-block-theme")),(0,e.createElement)("option",{value:"sentence"},(0,n.__)("Sentence","create-block-theme")),(0,e.createElement)("option",{value:"paragraph"},(0,n.__)("Paragraph","create-block-theme"))),(0,e.createElement)(a.__experimentalInputControl,{label:(0,n.__)("Demo text","create-block-theme"),value:i,onChange:s}),(0,e.createElement)("div",null,(0,e.createElement)(a.RangeControl,{label:(0,n.__)("Font size (px)","create-block-theme"),value:u,onChange:f,min:8,max:140,withInputField:!0}))),!!l&&!!Object.keys(l).length&&(0,e.createElement)("div",{className:"extra-controls"},(0,e.createElement)(k,{axes:l,setAxes:r}))),(0,e.createElement)("div",null,(0,e.createElement)(a.Button,{variant:"secondary",icon:_,onClick:()=>{d("sentence"),h("sentence"),o()}},(0,n.__)("Reset","create-block-theme")))))},x=function(t){return(0,e.createElement)("div",{className:"fonts-page-layout"},t.children)},O=function({isOpen:t,onClose:l}){return t?(0,e.createElement)(a.Modal,{title:(0,e.createElement)(e.Fragment,null,(0,e.createElement)(a.Icon,{icon:"info"})," ",(0,n.__)("Info","create-block-theme")),onRequestClose:l},(0,e.createElement)("p",null,(0,n.__)("This is a list of your font families listed in the theme.json file of your theme.","create-block-theme")),(0,e.createElement)("p",null,(0,n.__)("If your theme.json makes reference to fonts providers other than local they may not be displayed correctly.","create-block-theme"))):null},C=(0,e.createElement)(w.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(w.Path,{d:"M20 5h-5.7c0-1.3-1-2.3-2.3-2.3S9.7 3.7 9.7 5H4v2h1.5v.3l1.7 11.1c.1 1 1 1.7 2 1.7h5.7c1 0 1.8-.7 2-1.7l1.7-11.1V7H20V5zm-3.2 2l-1.7 11.1c0 .1-.1.2-.3.2H9.1c-.1 0-.3-.1-.3-.2L7.2 7h9.6z"})),T=function({title:l,fontsOutline:r,handleDeleteFontFace:o,handleDeleteFontFamily:i}){const[s,c]=(0,t.useState)({}),m=Object.keys(r).map((e=>r[e].faces.map((t=>({family:e,weight:t.weight,style:t.style,src:t.src}))))).flat();(0,t.useEffect)((()=>{const e=m.map((e=>fetch(e.src,{method:"HEAD"})));Promise.all(e).then((e=>{const t={};e.forEach((e=>{t[e.url]=e.headers.get("content-length")})),c(t)}))}),[r]);const h=Object.keys(r).reduce(((e,t)=>e+r[t].faces.length),0),u=y(m.reduce(((e,t)=>e+parseInt(s[t.src])),0));return(0,e.createElement)("div",{className:"sidebar"},(0,e.createElement)("div",{className:"sidebar-container"},(0,e.createElement)("div",{className:"variants-outline"},(0,e.createElement)("h2",null,l),(0,e.createElement)("h3",null,r.family),!!r&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"variants-list"},(0,e.createElement)("div",{className:"content"},Object.keys(r).map(((t,l)=>(0,e.createElement)("div",{className:"variants-family",key:`variants-family-${l}`},(0,e.createElement)("div",{className:"header"},(0,e.createElement)("span",{className:"name"},r[t].family," "),(0,e.createElement)("div",null,(0,e.createElement)("span",{className:"variants"},!!r[t].faces.length&&(0,e.createElement)(e.Fragment,null,sprintf(
// translators: %s: Variants information.
(0,n.__)("( %s )","create-block-theme"),sprintf(
// translators: %d: Number of variants.
(0,n._n)("%d Variant","%d Variants",r[t].faces.length,"create-block-theme"),r[t].faces.length)))),(0,e.createElement)(a.Button,{icon:C,iconSize:15,isSmall:!0,onClick:()=>i(r[t].family)}))),r[t].faces.map(((n,l)=>{return(0,e.createElement)("div",{className:"variant-row",key:`selected-variant-${l}`},(0,e.createElement)("div",{className:"variant"},n.weight," ",p(n.style)),(0,e.createElement)("div",{className:"size"},(i=n.src,s[i]?y(s[i]):null)),(0,e.createElement)("div",null,(0,e.createElement)(a.Button,{onClick:()=>o(r[t].family,n.weight,n.style),icon:C,iconSize:15,isSmall:!0})));var i})))))))),(0,e.createElement)("div",{className:"variants-total"},(0,e.createElement)("div",{className:"variant"},sprintf(
// translators: %d: Number of variants.
(0,n._n)("%d Variant","%d Variants",h,"create-block-theme"),h)),(0,e.createElement)("div",{className:"size"},u)))))},N=function({toggleIsHelpOpen:t}){const{adminUrl:l}=createBlockTheme;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"manage-fonts-header-flex"},(0,e.createElement)("h1",{className:"wp-heading-inline"},(0,n.__)("Manage Theme Fonts","create-block-theme")),(0,e.createElement)("div",{className:"buttons"},(0,e.createElement)(a.Button,{href:`${l}themes.php?page=add-google-font-to-theme-json`,variant:"secondary"},(0,n.__)("Add Google Font","create-block-theme")),(0,e.createElement)(a.Button,{href:`${l}themes.php?page=add-local-font-to-theme-json`,variant:"secondary"},(0,n.__)("Add Local Font","create-block-theme")))),(0,e.createElement)("hr",{className:"wp-header-end"}),(0,e.createElement)("p",{className:"help"},(0,n.__)("These are the fonts currently embedded in your theme ","create-block-theme"),(0,e.createElement)(a.Button,{onClick:t,style:{padding:"0",height:"1rem"}},(0,e.createElement)(a.Icon,{icon:"info"}))))},j=function({isOpen:t,onConfirm:l,onCancel:r,fontToDelete:o}){const i=(0,n.sprintf)(
// translators: %1$s: Font Style, %2$s: Font Weight, %3$s: Font Family
(0,n.__)('Are you sure you want to delete "%1$s - %2$s" variant of "%3$s" from your theme?',"create-block-theme"),o?.weight,p(o?.style),o?.fontFamily),s=(0,n.sprintf)(
// translators: %s: Font Family
(0,n.__)('Are you sure you want to delete "%s" from your theme?',"create-block-theme"),o?.fontFamily);return(0,e.createElement)(a.__experimentalConfirmDialog,{isOpen:t,onConfirm:l,onCancel:r},void 0!==o?.weight&&void 0!==o.style?(0,e.createElement)("h3",null,i):(0,e.createElement)("h3",null,s),(0,e.createElement)("p",null,(0,n.__)("This action will delete the font definition and the font file assets from your theme.","create-block-theme")))},V=function(){const a=document.querySelector("#nonce").value,l=document.querySelector("#theme-fonts-json"),r=document.querySelector("#manage-fonts-form"),o=l.innerHTML,i=JSON.parse(o)||[],[s,c]=(0,t.useState)(i),[m,h]=(0,t.useState)({fontFamily:void 0,weight:void 0,style:void 0}),[u,f]=(0,t.useState)(!1),[d,p]=(0,t.useState)(!1);(0,t.useEffect)((()=>{void 0!==m.fontFamily&&r.submit()}),[s]);const g=()=>{p(!d)};function y(e,t,n){h({fontFamily:e,weight:t,style:n},f(!0))}const b=s.reduce(((e,t)=>(e[t.fontFamily]={family:t.name||t.fontFamily,faces:(t.fontFace||[]).map((e=>{return{weight:e.fontWeight,style:e.fontStyle,src:(t=e.src[0],t?t.replace("file:./",createBlockTheme.themeUrl+"/"):t)};var t}))},e)),{});return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(O,{isOpen:d,onClose:g}),(0,e.createElement)(x,null,(0,e.createElement)("main",null,(0,e.createElement)(N,{toggleIsHelpOpen:g}),(0,e.createElement)(j,{isOpen:u,onConfirm:function(){f(!1),void 0!==m.weight&&void 0!==m.style?function(){const{fontFamily:e,weight:t,style:n}=m,a=s.reduce(((a,l)=>{const{fontFace:r=[],...o}=l;return e===l.fontFamily&&1===r.filter((e=>!e.shouldBeRemoved)).length&&(o.shouldBeRemoved=!0),o.fontFace=r.map((a=>t!==a.fontWeight||n!==a.fontStyle||e!==l.fontFamily&&e!==l.name?a:{...a,shouldBeRemoved:!0})),[...a,o]}),[]);c(a)}(m.fontFamily,m.weight,m.style):function(e){const t=s.map((t=>e===t.fontFamily||e===t.name?{...t,shouldBeRemoved:!0}:t));c(t)}(m.fontFamily)},onCancel:function(){h({}),f(!1)},fontToDelete:m}),(0,e.createElement)(S,null),0===s.length?(0,e.createElement)("p",null,(0,n.__)("There are no font families defined in your theme.json file.","create-block-theme")):(0,e.createElement)("div",{className:"font-families"},s.map(((t,n)=>(0,e.createElement)(v,{fontFamily:t,key:`fontfamily${n}`,deleteFont:y})))),(0,e.createElement)("form",{method:"POST",id:"manage-fonts-form"},(0,e.createElement)("input",{type:"hidden",name:"new-theme-fonts-json",value:JSON.stringify(s)}),(0,e.createElement)("input",{type:"hidden",name:"nonce",value:a}))),(0,e.createElement)(T,{title:(0,n.__)("Theme Fonts","create-block-theme"),fontsOutline:b,handleDeleteFontFace:y,handleDeleteFontFamily:y})))},B=window.wp.data,$=window.wp.coreData;let L=globalThis.fetch;if(!L){let e=[];L=globalThis.fetch=(...t)=>new Promise(((n,a)=>{e.push({args:t,resolve:n,reject:a})})),o.e(83).then(o.t.bind(o,5083,19)).then((t=>{for(L=globalThis.fetch=async function(e){return new Promise(((n,a)=>{t.readFile(e,((e,t)=>{if(e)return a(e);n({ok:!0,arrayBuffer:()=>t.buffer})}))}))};e.length;){let t=e.shift();L(...t.args).then((e=>t.resolve(e))).catch((e=>t.reject(e)))}})).catch((e=>{throw console.error(e),new Error("lib-font cannot run unless either the Fetch API or Node's filesystem module is available.")}))}class P{constructor(e,t={},n){this.type=e,this.detail=t,this.msg=n,Object.defineProperty(this,"__mayPropagate",{enumerable:!1,writable:!0}),this.__mayPropagate=!0}preventDefault(){}stopPropagation(){this.__mayPropagate=!1}valueOf(){return this}toString(){return this.msg?`[${this.type} event]: ${this.msg}`:`[${this.type} event]`}}class D{constructor(){this.listeners={}}addEventListener(e,t,n){let a=this.listeners[e]||[];n?a.unshift(t):a.push(t),this.listeners[e]=a}removeEventListener(e,t){let n=this.listeners[e]||[],a=n.findIndex((e=>e===t));a>-1&&(n.splice(a,1),this.listeners[e]=n)}dispatch(e){let t=this.listeners[e.type];if(t)for(let n=0,a=t.length;n<a&&e.__mayPropagate;n++)t[n](e)}}var I=o(2592),A=o(7047);class z extends I.x{constructor(e,t,n){const{p:a}=super({offset:0,length:12},t,"sfnt");this.version=a.uint32,this.numTables=a.uint16,this.searchRange=a.uint16,this.entrySelector=a.uint16,this.rangeShift=a.uint16,a.verifyLength(),this.directory=[...new Array(this.numTables)].map((e=>new R(a))),this.tables={},this.directory.forEach((e=>{(0,A.Z)(this.tables,e.tag.trim(),(()=>n(this.tables,{tag:e.tag,offset:e.offset,length:e.length},t)))}))}}class R{constructor(e){this.tag=e.tag,this.checksum=e.uint32,this.offset=e.uint32,this.length=e.uint32}}const G=globalThis.pako?globalThis.pako.inflate:void 0;let U;G||o.e(952).then(o.t.bind(o,952,19)).then((e=>{U=t=>e.unzipSync(t)}));class W extends I.x{constructor(e,t,n){const{p:a}=super({offset:0,length:44},t,"woff");this.signature=a.tag,this.flavor=a.uint32,this.length=a.uint32,this.numTables=a.uint16,a.uint16,this.totalSfntSize=a.uint32,this.majorVersion=a.uint16,this.minorVersion=a.uint16,this.metaOffset=a.uint32,this.metaLength=a.uint32,this.metaOrigLength=a.uint32,this.privOffset=a.uint32,this.privLength=a.uint32,a.verifyLength(),this.directory=[...new Array(this.numTables)].map((e=>new H(a))),M(this,t,n)}}class H{constructor(e){this.tag=e.tag,this.offset=e.uint32,this.compLength=e.uint32,this.origLength=e.uint32,this.origChecksum=e.uint32}}function M(e,t,n){e.tables={},e.directory.forEach((a=>{(0,A.Z)(e.tables,a.tag.trim(),(()=>{let l=0,r=t;if(a.compLength!==a.origLength){const e=t.buffer.slice(a.offset,a.offset+a.compLength);let n;if(G)n=G(new Uint8Array(e));else{if(!U){const e="no brotli decoder available to decode WOFF2 font";throw font.onerror&&font.onerror(e),new Error(e)}n=U(new Uint8Array(e))}r=new DataView(n.buffer)}else l=a.offset;return n(e.tables,{tag:a.tag,offset:l,length:a.origLength},r)}))}))}const q=globalThis.unbrotli;let J;q||o.e(952).then(o.t.bind(o,952,19)).then((e=>{J=t=>e.brotliDecompressSync(t)}));class Z extends I.x{constructor(e,t,n){const{p:a}=super({offset:0,length:48},t,"woff2");this.signature=a.tag,this.flavor=a.uint32,this.length=a.uint32,this.numTables=a.uint16,a.uint16,this.totalSfntSize=a.uint32,this.totalCompressedSize=a.uint32,this.majorVersion=a.uint16,this.minorVersion=a.uint16,this.metaOffset=a.uint32,this.metaLength=a.uint32,this.metaOrigLength=a.uint32,this.privOffset=a.uint32,this.privLength=a.uint32,a.verifyLength(),this.directory=[...new Array(this.numTables)].map((e=>new K(a)));let l,r=a.currentPosition;this.directory[0].offset=0,this.directory.forEach(((e,t)=>{let n=this.directory[t+1];n&&(n.offset=e.offset+(void 0!==e.transformLength?e.transformLength:e.origLength))}));let o=t.buffer.slice(r);if(q)l=q(new Uint8Array(o));else{if(!J){const t="no brotli decoder available to decode WOFF2 font";throw e.onerror&&e.onerror(t),new Error(t)}l=new Uint8Array(J(o))}!function(e,t,n){e.tables={},e.directory.forEach((a=>{(0,A.Z)(e.tables,a.tag.trim(),(()=>{const l=a.offset,r=l+(a.transformLength?a.transformLength:a.origLength),o=new DataView(t.slice(l,r).buffer);try{return n(e.tables,{tag:a.tag,offset:0,length:a.origLength},o)}catch(e){console.error(e)}}))}))}(this,l,n)}}class K{constructor(e){this.flags=e.uint8;const t=this.tagNumber=63&this.flags;this.tag=63===t?e.tag:["cmap","head","hhea","hmtx","maxp","name","OS/2","post","cvt ","fpgm","glyf","loca","prep","CFF ","VORG","EBDT","EBLC","gasp","hdmx","kern","LTSH","PCLT","VDMX","vhea","vmtx","BASE","GDEF","GPOS","GSUB","EBSC","JSTF","MATH","CBDT","CBLC","COLR","CPAL","SVG ","sbix","acnt","avar","bdat","bloc","bsln","cvar","fdsc","feat","fmtx","fvar","gvar","hsty","just","lcar","mort","morx","opbd","prop","trak","Zapf","Silf","Glat","Gloc","Feat","Sill"][63&t];let n=0!=(this.transformVersion=(192&this.flags)>>6);"glyf"!==this.tag&&"loca"!==this.tag||(n=3!==this.transformVersion),this.origLength=e.uint128,n&&(this.transformLength=e.uint128)}}const X={};let Y=!1;function Q(e,t,n){let a=t.tag.replace(/[^\w\d]/g,""),l=X[a];return l?new l(t,n,e):(console.warn(`lib-font has no definition for ${a}. The table was skipped.`),{})}function ee(){let e=0;function t(n,a){if(!Y)return e>10?a(new Error("loading took too long")):(e++,setTimeout((()=>t(n)),250));n(Q)}return new Promise(((e,n)=>t(e)))}Promise.all([o.e(915).then(o.bind(o,3915)),o.e(612).then(o.bind(o,612)),o.e(162).then(o.bind(o,4162)),o.e(590).then(o.bind(o,3590)),o.e(543).then(o.bind(o,6543)),o.e(132).then(o.bind(o,9132)),o.e(196).then(o.bind(o,2196)),o.e(154).then(o.bind(o,9154)),o.e(701).then(o.bind(o,1701)),o.e(356).then(o.bind(o,6356)),Promise.all([o.e(197),o.e(800)]).then(o.bind(o,2800)),Promise.all([o.e(197),o.e(169)]).then(o.bind(o,4169)),o.e(768).then(o.bind(o,3768)),o.e(538).then(o.bind(o,5538)),o.e(469).then(o.bind(o,8469)),o.e(633).then(o.bind(o,8633)),o.e(73).then(o.bind(o,3073)),o.e(131).then(o.bind(o,2131)),o.e(233).then(o.bind(o,2233)),o.e(906).then(o.bind(o,2906)),o.e(959).then(o.bind(o,5959)),o.e(685).then(o.bind(o,4685)),o.e(694).then(o.bind(o,5694)),o.e(509).then(o.bind(o,8509)),o.e(234).then(o.bind(o,7234)),o.e(729).then(o.bind(o,9729)),o.e(665).then(o.bind(o,9665)),o.e(176).then(o.bind(o,6176)),o.e(312).then(o.bind(o,6312)),o.e(68).then(o.bind(o,68)),o.e(376).then(o.bind(o,6376)),o.e(905).then(o.bind(o,7905)),o.e(618).then(o.bind(o,2618)),o.e(209).then(o.bind(o,9209)),o.e(422).then(o.bind(o,5422)),o.e(257).then(o.bind(o,5257)),o.e(122).then(o.bind(o,9122)),o.e(330).then(o.bind(o,5330)),o.e(521).then(o.bind(o,4521)),o.e(497).then(o.bind(o,2497)),o.e(506).then(o.bind(o,6506))]).then((e=>{e.forEach((e=>{let t=Object.keys(e)[0];X[t]=e[t]})),Y=!0}));const te=[0,1,0,0],ne=[79,84,84,79],ae=[119,79,70,70],le=[119,79,70,50];function re(e,t){if(e.length===t.length){for(let n=0;n<e.length;n++)if(e[n]!==t[n])return;return!0}}class oe extends D{constructor(e,t={}){super(),this.name=e,this.options=t,this.metrics=!1}get src(){return this.__src}set src(e){this.__src=e,(async()=>{globalThis.document&&!this.options.skipStyleSheet&&await async function(e,t,n={}){if(!globalThis.document)return;let a=function(e,t){let n=e.lastIndexOf("."),a=(e.substring(n+1)||"").toLowerCase(),l={ttf:"truetype",otf:"opentype",woff:"woff",woff2:"woff2"}[a];if(l)return l;let r={eot:"The .eot format is not supported: it died in January 12, 2016, when Microsoft retired all versions of IE that didn't already support WOFF.",svg:"The .svg format is not supported: SVG fonts (not to be confused with OpenType with embedded SVG) were so bad we took the entire fonts chapter out of the SVG specification again.",fon:"The .fon format is not supported: this is an ancient Windows bitmap font format.",ttc:"Based on the current CSS specification, font collections are not (yet?) supported."}[a];if(r||(r=`${e} is not a known webfont format.`),t)throw new Error(r);console.warn(`Could not load font: ${r}`)}(t,n.errorOnStyle);if(!a)return;let l=document.createElement("style");l.className="injected-by-Font-js";let r=[];return n.styleRules&&(r=Object.entries(n.styleRules).map((([e,t])=>`${e}: ${t};`))),l.textContent=`\n@font-face {\n    font-family: "${e}";\n    ${r.join("\n\t")}\n    src: url("${t}") format("${a}");\n}`,globalThis.document.head.appendChild(l),l}(this.name,e,this.options),this.loadFont(e)})()}async loadFont(e,t){fetch(e).then((e=>function(e){if(!e.ok)throw new Error(`HTTP ${e.status} - ${e.statusText}`);return e}(e)&&e.arrayBuffer())).then((n=>this.fromDataBuffer(n,t||e))).catch((n=>{const a=new P("error",n,`Failed to load font at ${t||e}`);this.dispatch(a),this.onerror&&this.onerror(a)}))}async fromDataBuffer(e,t){this.fontData=new DataView(e);let n=function(e){const t=[e.getUint8(0),e.getUint8(1),e.getUint8(2),e.getUint8(3)];return re(t,te)||re(t,ne)?"SFNT":re(t,ae)?"WOFF":re(t,le)?"WOFF2":void 0}(this.fontData);if(!n)throw new Error(`${t} is either an unsupported font format, or not a font at all.`);await this.parseBasicData(n);const a=new P("load",{font:this});this.dispatch(a),this.onload&&this.onload(a)}async parseBasicData(e){return ee().then((t=>("SFNT"===e&&(this.opentype=new z(this,this.fontData,t)),"WOFF"===e&&(this.opentype=new W(this,this.fontData,t)),"WOFF2"===e&&(this.opentype=new Z(this,this.fontData,t)),this.opentype)))}getGlyphId(e){return this.opentype.tables.cmap.getGlyphId(e)}reverse(e){return this.opentype.tables.cmap.reverse(e)}supports(e){return 0!==this.getGlyphId(e)}supportsVariation(e){return!1!==this.opentype.tables.cmap.supportsVariation(e)}measureText(e,t=16){if(this.__unloaded)throw new Error("Cannot measure text: font was unloaded. Please reload before calling measureText()");let n=document.createElement("div");n.textContent=e,n.style.fontFamily=this.name,n.style.fontSize=`${t}px`,n.style.color="transparent",n.style.background="transparent",n.style.top="0",n.style.left="0",n.style.position="absolute",document.body.appendChild(n);let a=n.getBoundingClientRect();document.body.removeChild(n);const l=this.opentype.tables["OS/2"];return a.fontSize=t,a.ascender=l.sTypoAscender,a.descender=l.sTypoDescender,a}unload(){if(this.styleElement.parentNode){this.styleElement.parentNode.removeElement(this.styleElement);const e=new P("unload",{font:this});this.dispatch(e),this.onunload&&this.onunload(e)}this._unloaded=!0}load(){if(this.__unloaded){delete this.__unloaded,document.head.appendChild(this.styleElement);const e=new P("load",{font:this});this.dispatch(e),this.onload&&this.onload(e)}}}globalThis.Font=oe;const ie=function({font:n,variant:a,isSelected:l,handleToggle:r}){const o=a.includes("italic")?"italic":"normal",i="regular"===a||"italic"===a?"400":a.replace("italic",""),s=n.files[a].replace("http://","https://"),c={fontFamily:n.family,fontStyle:o,fontWeight:i};(0,t.useEffect)((()=>{const e=b(n.family),t=new FontFace(e,`url( ${s} )`,{style:o,weight:i});(async()=>{try{const e=await t.load();document.fonts.add(e)}catch(e){console.error(e)}})()}),[n,o,a,s,i]);const m=`${n.family.toLowerCase().replace(" ","-")}-${a}`;return(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:""},(0,e.createElement)("input",{type:"checkbox",name:"google-font-variant",id:m,value:a,checked:l,onChange:r})),(0,e.createElement)("td",{className:""},(0,e.createElement)("label",{htmlFor:m},i)),(0,e.createElement)("td",{className:""},(0,e.createElement)("label",{htmlFor:m},p(o))),(0,e.createElement)("td",{className:"demo-cell"},(0,e.createElement)("label",{htmlFor:m},(0,e.createElement)(u,{id:m,style:c}))))},se=(0,e.createElement)(w.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(w.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})),ce=function(){const{adminUrl:t}=createBlockTheme;return(0,e.createElement)(a.Button,{varint:"secondary",icon:se,href:`${t}themes.php?page=manage-fonts`,iconSize:20,style:{padding:"0",height:"1.5rem",minWidth:"1.5rem",marginLeft:"-.5rem"},"aria-label":(0,n.__)("Back to manage fonts","create-block-theme")})},me={},he=function(){const[l,r]=(0,t.useState)({}),[o,i]=(0,t.useState)(null),[s,c]=(0,t.useState)({}),[m,h]=(0,t.useState)(me),u=document.querySelector("#nonce").value,p=e=>{const t=m[e];if(t&&t?.faces?.length){const{[e]:t,...n}=m;h(n)}else{const t={family:e,faces:o.variants.map((e=>({weight:d(e),style:f(e),src:g(o.files[e])})))};h({...m,[e]:t})}},y=(e,t,n)=>{const a=m[e];return!!a&&!!a.faces.find((e=>e.weight===t&&e.style===n))},b=(e,t,n)=>{y(e,t,n)?((e,t,n)=>{const a=m[e],l=a.faces.filter((e=>!(e.weight===t&&e.style===n)));if(l.length)h({...m,[e]:{...a,faces:l}});else{const{[e]:t,...n}=m;h(n)}})(e,t,n):((e,t,n)=>{const a=m[e],l=function(e,t){return"400"===t?"italic"===e?"italic":"regular":"normal"===e?t:t+e}(n,t);h(a?{...m,[e]:{...a,faces:[...a?.faces||[],{weight:t,style:n,src:g(o.files[l])}]}}:{...m,[e]:{family:e,faces:[{weight:t,style:n,src:g(o.files[l])}]}})})(e,t,n)};(0,t.useEffect)((()=>{(async()=>{const e=await fetch(createBlockTheme.googleFontsDataUrl),t=await e.json();r(t)})()}),[]);const E=(0,B.useSelect)((e=>e($.store).getCurrentTheme()),null);let v="";return o&&(v=o.family.toLowerCase().replace(" ","-")),(0,e.createElement)(x,null,(0,e.createElement)("main",null,(0,e.createElement)("header",null,(0,e.createElement)(ce,null),(0,e.createElement)("h1",{className:"wp-heading-inline"},(0,n.__)("Add Google fonts to your theme","create-block-theme")),(0,e.createElement)("p",null,(0,n.__)("Add Google fonts assets and font face definitions to your currently active theme","create-block-theme")," ","(",E?.name.rendered,")")),!l?.items&&(0,e.createElement)("p",null,(0,e.createElement)(a.Spinner,null),(0,e.createElement)("span",null,(0,n.__)("Loading Google fonts data…","create-block-theme"))),l?.items&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"select-font"},(0,e.createElement)(a.SelectControl,{label:(0,n.__)("Select Font","create-block-theme"),name:"google-font",onChange:e=>{i(l.items[e]),(e=>{const t=new oe(e.family);let n=!1,a=Object.values(e.files)[0];if(a.includes("http://")&&(a=a.replace("http://","https://")),t.src=a,t.onerror=e=>{console.error(e),n=!0},!n){function l(e){const t=e.detail.font,{name:n}=t.opentype.tables,a={copyright:n.get(0),source:n.get(11),license:n.get(13),licenseURL:n.get(14)};c(a)}t.onload=e=>l(e)}})(l.items[e])},size:"__unstable-large"},(0,e.createElement)("option",{value:null},(0,n.__)("Select a font…","create-block-theme")),l.items.map(((t,n)=>(0,e.createElement)("option",{value:n,key:`option${n}`},t.family))))),(0,e.createElement)(S,null),o&&(0,e.createElement)("p",null,(0,n.__)("Select the font variants you want to include:","create-block-theme")),o&&(0,e.createElement)("table",{className:"wp-list-table widefat striped table-view-list",id:"google-fonts-table"},(0,e.createElement)("thead",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:""},(0,e.createElement)("input",{type:"checkbox",id:`select-all-${v}`,onChange:()=>p(o.family),checked:o.variants.length===m[o.family]?.faces?.length})),(0,e.createElement)("td",{className:""},(0,e.createElement)("label",{htmlFor:`select-all-${v}`},(0,n.__)("Weight","create-block-theme"))),(0,e.createElement)("td",{className:""},(0,e.createElement)("label",{htmlFor:`select-all-${v}`},(0,n.__)("Style","create-block-theme"))),(0,e.createElement)("td",{className:""},(0,e.createElement)("label",{htmlFor:`select-all-${v}`},(0,n.__)("Preview","create-block-theme"))))),(0,e.createElement)("tbody",null,o.variants.map(((t,n)=>(0,e.createElement)(ie,{font:o,variant:t,key:`font-variant-${n}`,isSelected:y(o.family,d(t),f(t)),handleToggle:()=>b(o.family,d(t),f(t))}))))),(0,e.createElement)("form",{encType:"multipart/form-data",action:"",method:"POST"},(0,e.createElement)("input",{type:"hidden",name:"selection-data",value:JSON.stringify(Object.values(m))}),(0,e.createElement)("input",{type:"hidden",name:"font-credits",value:JSON.stringify(s)}),(0,e.createElement)(a.Button,{variant:"primary",type:"submit",disabled:0===Object.values(m).length},(0,n.__)("Add Google fonts to your theme","create-block-theme")),(0,e.createElement)("input",{type:"hidden",name:"nonce",value:u})))),(0,e.createElement)(T,{title:(0,n.__)("Selected Variants","create-block-theme"),fontsOutline:m,handleDeleteFontFace:b,handleDeleteFontFamily:p}))};function ue(e){return e&&Object.keys(e).length?Object.keys(e).map((t=>`'${e[t].tag}' ${e[t].currentValue}`)).join(", "):""}const fe=function({formData:t,setFormData:l,resetFormData:r,isFormValid:o,setAxes:i}){const s=document.querySelector("#nonce").value,c=ue(t.axes);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("form",{method:"POST",id:"font-upload-form",action:"",encType:"multipart/form-data"},(0,e.createElement)("input",{type:"hidden",name:"nonce",value:s}),(0,e.createElement)("div",{className:"form-group"},(0,e.createElement)("label",{htmlFor:"font-file"},(0,n.__)("Font file:","create-block-theme")),(0,e.createElement)("input",{type:"file",name:"font-file",id:"font-file",onChange:e=>{const t=e.target.files[0];if(!t)return void r();const n=new FileReader;n.readAsArrayBuffer(t),n.onload=()=>{const e=new oe("Uploaded Font");e.fromDataBuffer(n.result,t.name),e.onload=e=>{const n=e.detail.font,{name:a}=n.opentype.tables,r=a.get(1),o=a.get(2).toLowerCase().includes("italic"),s=n.opentype.tables["OS/2"].usWeightClass||"normal",c=!!n.opentype.tables.fvar,m=c&&n.opentype.tables.fvar.axes.find((({tag:e})=>"wght"===e)),h=m?`${m.minValue} ${m.maxValue}`:null,u=c?n.opentype.tables.fvar.axes.reduce(((e,{tag:t,minValue:n,defaultValue:a,maxValue:l})=>(e[t]={tag:t,minValue:n,defaultValue:a,maxValue:l,currentValue:a},e)),{}):{},f={copyright:a.get(0),source:a.get(11),license:a.get(13),licenseURL:a.get(14)};l({file:t,name:r,style:o?"italic":"normal",weight:m?h:s,variable:c,fontCredits:f}),i(u)}}},accept:".otf, .ttf, .woff, .woff2"}),(0,e.createElement)("small",null,(0,n.__)(".otf, .ttf, .woff, .woff2 file extensions supported","create-block-theme"))),(0,e.createElement)("h4",null,(0,n.__)("Font face definition for this font file:","create-block-theme")),(0,e.createElement)("div",{className:"form-group"},(0,e.createElement)(a.__experimentalInputControl,{label:(0,n.__)("Font name:","create-block-theme"),type:"text",name:"font-name",id:"font-name",placeholder:(0,n.__)("Font name","create-block-theme"),value:t.name,onChange:e=>l({...t,name:e})})),(0,e.createElement)("div",{className:"form-group"},(0,e.createElement)(a.SelectControl,{label:(0,n.__)("Font style:","create-block-theme"),name:"font-style",id:"font-style",value:t.style,onChange:e=>l({...t,style:e})},(0,e.createElement)("option",{value:"normal"},p("normal")),(0,e.createElement)("option",{value:"italic"},p("italic")))),(0,e.createElement)("div",{className:"form-group"},(0,e.createElement)(a.__experimentalInputControl,{label:(0,n.__)("Font weight:","create-block-theme"),type:"text",name:"font-weight",id:"font-weight",placeholder:(0,n.__)("Font weight","create-block-theme"),value:t.weight||"",onChange:e=>l({...t,weight:e})})),t.variable&&(0,e.createElement)("input",{type:"hidden",name:"font-variation-settings",value:c}),(0,e.createElement)("input",{type:"hidden",name:"font-credits",value:JSON.stringify(t.fontCredits)})),(0,e.createElement)(a.Button,{variant:"primary",type:"submit",disabled:!o(),form:"font-upload-form"},(0,n.__)("Upload font to your theme","create-block-theme")))},de={file:null,name:null,weight:null,style:null},pe=function(){const[a,l]=(0,t.useState)(de),[r,o]=(0,t.useState)({}),i=(0,t.useCallback)((()=>!(!a.name||a.name&&!/^[a-z0-9 ]+$/i.test(a.name))&&a.file&&a.weight&&a.style),[a]);return(0,t.useEffect)((()=>{(async()=>{if(!i())return;const e=await a.file.arrayBuffer(),t=b(a.name),n=new FontFace(t,e,{style:a.style,weight:a.weight});try{const e=await n.load();document.fonts.add(e)}catch(e){console.error(e)}})()}),[a,i]),(0,e.createElement)("div",{className:"layout"},(0,e.createElement)("main",null,(0,e.createElement)("header",null,(0,e.createElement)(ce,null),(0,e.createElement)("h1",null,(0,n.__)("Local Fonts","create-block-theme")),(0,e.createElement)("p",null,(0,n.__)("Add local fonts assets and font face definitions to your currently active theme","create-block-theme"))),(0,e.createElement)(fe,{isFormValid:i,formData:a,setFormData:l,resetFormData:()=>{l(de)},setAxes:o})),(0,e.createElement)("div",{className:"preview"},(0,e.createElement)("h2",null,(0,n.__)("Font file preview","create-block-theme")),i()?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(S,{axes:r,setAxes:o,resetAxes:()=>{const e=Object.keys(r).reduce(((e,t)=>(e[t]={...r[t],currentValue:r[t].defaultValue},e)),{});o(e)}}),(0,e.createElement)("p",null,(0,n.__)("Demo:","create-block-theme")),(0,e.createElement)(u,{style:(()=>{if(!i())return{};const e={fontFamily:b(a.name),fontWeight:a.weight,fontStyle:a.style};return a.variable&&(e.fontVariationSettings=ue(r)),e})()})):(0,e.createElement)("p",null,(0,n.__)("Load a font file to preview it.","create-block-theme"))))};function ge(){let t=null;switch(new URLSearchParams(document.location.search).get("page")){case"manage-fonts":t=V;break;case"add-google-font-to-theme-json":t=he;break;case"add-local-font-to-theme-json":t=pe;break;default:t=()=>(0,e.createElement)("h1",null,"This page is not implemented yet.")}return(0,e.createElement)(h,null,(0,e.createElement)(t,null))}window.addEventListener("load",(function(){const n=document.getElementById("create-block-theme-app");void 0===t.createRoot?(0,t.render)((0,e.createElement)(ge,null),n):(0,t.createRoot)(n).render((0,e.createElement)(ge,null))}),!1)})()})();